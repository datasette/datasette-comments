var qt=Object.create;var nt=Object.defineProperty;var Ht=Object.getOwnPropertyDescriptor;var Rt=Object.getOwnPropertyNames;var Nt=Object.getPrototypeOf,Lt=Object.prototype.hasOwnProperty;var Mt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ot=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Rt(t))!Lt.call(e,i)&&i!==n&&nt(e,i,{get:()=>t[i],enumerable:!(o=Ht(t,i))||o.enumerable});return e};var It=(e,t,n)=>(n=e!=null?qt(Nt(e)):{},Ot(t||!e||!e.__esModule?nt(n,"default",{value:e,enumerable:!0}):n,e));var Pt=Mt((_e,St)=>{var H=1e3,R=H*60,N=R*60,S=N*24,zt=S*7,Jt=S*365.25;St.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Gt(e);if(n==="number"&&isFinite(e))return t.long?Qt(e):Kt(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Gt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return n*Jt;case"weeks":case"week":case"w":return n*zt;case"days":case"day":case"d":return n*S;case"hours":case"hour":case"hrs":case"hr":case"h":return n*N;case"minutes":case"minute":case"mins":case"min":case"m":return n*R;case"seconds":case"second":case"secs":case"sec":case"s":return n*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Kt(e){var t=Math.abs(e);return t>=S?Math.round(e/S)+"d":t>=N?Math.round(e/N)+"h":t>=R?Math.round(e/R)+"m":t>=H?Math.round(e/H)+"s":e+"ms"}function Qt(e){var t=Math.abs(e);return t>=S?j(e,t,S,"day"):t>=N?j(e,t,N,"hour"):t>=R?j(e,t,R,"minute"):t>=H?j(e,t,H,"second"):e+" ms"}function j(e,t,n,o){var i=t>=n*1.5;return Math.round(e/n)+" "+o+(i?"s":"")}});var V,c,st,Ut,E,rt,_t,z,ct,q={},lt=[],$t=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,K=Array.isArray;function D(e,t){for(var n in t)e[n]=t[n];return e}function ut(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var o,i,a,_={};for(a in t)a=="key"?o=t[a]:a=="ref"?i=t[a]:_[a]=t[a];if(arguments.length>2&&(_.children=arguments.length>3?V.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)_[a]===void 0&&(_[a]=e.defaultProps[a]);return U(e,_,o,i,null)}function U(e,t,n,o,i){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++st};return i==null&&c.vnode!=null&&c.vnode(a),a}function B(e){return e.children}function $(e,t){this.props=e,this.context=t}function M(e,t){if(t==null)return e.__?M(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?M(e):null}function dt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return dt(e)}}function J(e){(!e.__d&&(e.__d=!0)&&E.push(e)&&!Z.__r++||rt!==c.debounceRendering)&&((rt=c.debounceRendering)||_t)(Z)}function Z(){var e,t,n,o,i,a,_,l,u;for(E.sort(z);e=E.shift();)e.__d&&(t=E.length,o=void 0,i=void 0,a=void 0,l=(_=(n=e).__v).__e,(u=n.__P)&&(o=[],i=[],(a=D({},_)).__v=_.__v+1,Q(u,_,a,n.__n,u.ownerSVGElement!==void 0,_.__h!=null?[l]:null,o,l??M(_),_.__h,i),ht(o,_,i),_.__e!=l&&dt(_)),E.length>t&&E.sort(z));Z.__r=0}function ft(e,t,n,o,i,a,_,l,u,w,p){var r,g,d,s,f,P,m,h,T,C=0,v=o&&o.__k||lt,L=v.length,k=L,A=t.length;for(n.__k=[],r=0;r<A;r++)(s=n.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"?U(null,s,null,null,s):K(s)?U(B,{children:s},null,null,null):s.__b>0?U(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=n,s.__b=n.__b+1,(h=Zt(s,v,m=r+C,k))===-1?d=q:(d=v[h]||q,v[h]=void 0,k--),Q(e,s,d,i,a,_,l,u,w,p),f=s.__e,(g=s.ref)&&d.ref!=g&&(d.ref&&X(d.ref,null,s),p.push(g,s.__c||f,s)),f!=null&&(P==null&&(P=f),(T=d===q||d.__v===null)?h==-1&&C--:h!==m&&(h===m+1?C++:h>m?k>A-m?C+=h-m:C--:C=h<m&&h==m-1?h-m:0),m=r+C,typeof s.type!="function"||h===m&&d.__k!==s.__k?typeof s.type=="function"||h===m&&!T?s.__d!==void 0?(u=s.__d,s.__d=void 0):u=f.nextSibling:u=pt(e,f,u):u=mt(s,u,e),typeof n.type=="function"&&(n.__d=u))):(d=v[r])&&d.key==null&&d.__e&&(d.__e==u&&(u=M(d)),G(d,d,!1),v[r]=null);for(n.__e=P,r=L;r--;)v[r]!=null&&(typeof n.type=="function"&&v[r].__e!=null&&v[r].__e==n.__d&&(n.__d=v[r].__e.nextSibling),G(v[r],v[r]))}function mt(e,t,n){for(var o,i=e.__k,a=0;i&&a<i.length;a++)(o=i[a])&&(o.__=e,t=typeof o.type=="function"?mt(o,t,n):pt(n,o.__e,t));return t}function pt(e,t,n){return n==null||n.parentNode!==e?e.insertBefore(t,null):t==n&&t.parentNode!=null||e.insertBefore(t,n),t.nextSibling}function Zt(e,t,n,o){var i=e.key,a=e.type,_=n-1,l=n+1,u=t[n];if(u===null||u&&i==u.key&&a===u.type)return n;if(o>(u!=null?1:0))for(;_>=0||l<t.length;){if(_>=0){if((u=t[_])&&i==u.key&&a===u.type)return _;_--}if(l<t.length){if((u=t[l])&&i==u.key&&a===u.type)return l;l++}}return-1}function Ft(e,t,n,o,i){var a;for(a in n)a==="children"||a==="key"||a in t||F(e,a,null,n[a],o);for(a in t)i&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||F(e,a,t[a],n[a],o)}function ot(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||$t.test(t)?n:n+"px"}function F(e,t,n,o,i){var a;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||ot(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||ot(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?o||e.addEventListener(t,a?it:at,a):e.removeEventListener(t,a?it:at,a);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function at(e){return this.l[e.type+!1](c.event?c.event(e):e)}function it(e){return this.l[e.type+!0](c.event?c.event(e):e)}function Q(e,t,n,o,i,a,_,l,u,w){var p,r,g,d,s,f,P,m,h,T,C,v,L,k,A,b=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(p=c.__b)&&p(t);t:if(typeof b=="function")try{if(m=t.props,h=(p=b.contextType)&&o[p.__c],T=p?h?h.props.value:p.__:o,n.__c?P=(r=t.__c=n.__c).__=r.__E:("prototype"in b&&b.prototype.render?t.__c=r=new b(m,T):(t.__c=r=new $(m,T),r.constructor=b,r.render=Bt),h&&h.sub(r),r.props=m,r.state||(r.state={}),r.context=T,r.__n=o,g=r.__d=!0,r.__h=[],r._sb=[]),r.__s==null&&(r.__s=r.state),b.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=D({},r.__s)),D(r.__s,b.getDerivedStateFromProps(m,r.__s))),d=r.props,s=r.state,r.__v=t,g)b.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(b.getDerivedStateFromProps==null&&m!==d&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(m,T),!r.__e&&(r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(m,r.__s,T)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(r.props=m,r.state=r.__s,r.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(I){I&&(I.__=t)}),C=0;C<r._sb.length;C++)r.__h.push(r._sb[C]);r._sb=[],r.__h.length&&_.push(r);break t}r.componentWillUpdate!=null&&r.componentWillUpdate(m,r.__s,T),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(d,s,f)})}if(r.context=T,r.props=m,r.__P=e,r.__e=!1,v=c.__r,L=0,"prototype"in b&&b.prototype.render){for(r.state=r.__s,r.__d=!1,v&&v(t),p=r.render(r.props,r.state,r.context),k=0;k<r._sb.length;k++)r.__h.push(r._sb[k]);r._sb=[]}else do r.__d=!1,v&&v(t),p=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++L<25);r.state=r.__s,r.getChildContext!=null&&(o=D(D({},o),r.getChildContext())),g||r.getSnapshotBeforeUpdate==null||(f=r.getSnapshotBeforeUpdate(d,s)),ft(e,K(A=p!=null&&p.type===B&&p.key==null?p.props.children:p)?A:[A],t,n,o,i,a,_,l,u,w),r.base=t.__e,t.__h=null,r.__h.length&&_.push(r),P&&(r.__E=r.__=null)}catch(I){t.__v=null,(u||a!=null)&&(t.__e=l,t.__h=!!u,a[a.indexOf(l)]=null),c.__e(I,t,n)}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Vt(n.__e,t,n,o,i,a,_,u,w);(p=c.diffed)&&p(t)}function ht(e,t,n){for(var o=0;o<n.length;o++)X(n[o],n[++o],n[++o]);c.__c&&c.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){c.__e(a,i.__v)}})}function Vt(e,t,n,o,i,a,_,l,u){var w,p,r,g=n.props,d=t.props,s=t.type,f=0;if(s==="svg"&&(i=!0),a!=null){for(;f<a.length;f++)if((w=a[f])&&"setAttribute"in w==!!s&&(s?w.localName===s:w.nodeType===3)){e=w,a[f]=null;break}}if(e==null){if(s===null)return document.createTextNode(d);e=i?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s,d.is&&d),a=null,l=!1}if(s===null)g===d||l&&e.data===d||(e.data=d);else{if(a=a&&V.call(e.childNodes),p=(g=n.props||q).dangerouslySetInnerHTML,r=d.dangerouslySetInnerHTML,!l){if(a!=null)for(g={},f=0;f<e.attributes.length;f++)g[e.attributes[f].name]=e.attributes[f].value;(r||p)&&(r&&(p&&r.__html==p.__html||r.__html===e.innerHTML)||(e.innerHTML=r&&r.__html||""))}if(Ft(e,d,g,i,l),r)t.__k=[];else if(ft(e,K(f=t.props.children)?f:[f],t,n,o,i&&s!=="foreignObject",a,_,a?a[0]:n.__k&&M(n,0),l,u),a!=null)for(f=a.length;f--;)a[f]!=null&&ut(a[f]);l||("value"in d&&(f=d.value)!==void 0&&(f!==e.value||s==="progress"&&!f||s==="option"&&f!==g.value)&&F(e,"value",f,g.value,!1),"checked"in d&&(f=d.checked)!==void 0&&f!==e.checked&&F(e,"checked",f,g.checked,!1))}return e}function X(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){c.__e(o,n)}}function G(e,t,n){var o,i;if(c.unmount&&c.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||X(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){c.__e(a,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&G(o[i],t,n||typeof e.type!="function");n||e.__e==null||ut(e.__e),e.__=e.__e=e.__d=void 0}function Bt(e,t,n){return this.constructor(e,n)}function vt(e,t,n){var o,i,a,_;c.__&&c.__(e,t),i=(o=typeof n=="function")?null:n&&n.__k||t.__k,a=[],_=[],Q(t,e=(!o&&n||t).__k=y(B,null,[e]),i||q,q,t.ownerSVGElement!==void 0,!o&&n?[n]:i?null:t.firstChild?V.call(t.childNodes):null,a,!o&&n?n:i?i.__e:t.firstChild,o,_),ht(a,e,_)}function gt(e,t){var n={__c:t="__cC"+ct++,__:e,Consumer:function(o,i){return o.children(i)},Provider:function(o){var i,a;return this.getChildContext||(i=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(_){this.props.value!==_.value&&i.some(function(l){l.__e=!0,J(l)})},this.sub=function(_){i.push(_);var l=_.componentWillUnmount;_.componentWillUnmount=function(){i.splice(i.indexOf(_),1),l&&l.call(_)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}V=lt.slice,c={__e:function(e,t,n,o){for(var i,a,_;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),_=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,o||{}),_=i.__d),_)return i.__E=i}catch(l){e=l}throw e}},st=0,Ut=function(e){return e!=null&&e.constructor===void 0},$.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=D({},this.state),typeof e=="function"&&(e=e(D({},n),this.props)),e&&D(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),J(this))},$.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),J(this))},$.prototype.render=B,E=[],_t=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z=function(e,t){return e.__v.__b-t.__v.__b},Z.__r=0,ct=0;var yt,x,Y,Ct;var Et=[],tt=[],bt=c.__b,Tt=c.__r,wt=c.diffed,xt=c.__c,kt=c.unmount;function Wt(){for(var e;e=Et.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(W),e.__H.__h.forEach(et),e.__H.__h=[]}catch(t){e.__H.__h=[],c.__e(t,e.__v)}}c.__b=function(e){x=null,bt&&bt(e)},c.__r=function(e){Tt&&Tt(e),yt=0;var t=(x=e.__c).__H;t&&(Y===x?(t.__h=[],x.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=tt,n.__N=n.i=void 0})):(t.__h.forEach(W),t.__h.forEach(et),t.__h=[],yt=0)),Y=x},c.diffed=function(e){wt&&wt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Et.push(t)!==1&&Ct===c.requestAnimationFrame||((Ct=c.requestAnimationFrame)||jt)(Wt)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==tt&&(n.__=n.__V),n.i=void 0,n.__V=tt})),Y=x=null},c.__c=function(e,t){t.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||et(o)})}catch(o){t.some(function(i){i.__h&&(i.__h=[])}),t=[],c.__e(o,n.__v)}}),xt&&xt(e,t)},c.unmount=function(e){kt&&kt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(i){t=i}}),n.__H=void 0,t&&c.__e(t,n.__v))};var Dt=typeof requestAnimationFrame=="function";function jt(e){var t,n=function(){clearTimeout(o),Dt&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Dt&&(t=requestAnimationFrame(n))}function W(e){var t=x,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),x=t}function et(e){var t=x;e.__c=e.__(),x=t}var Xt=It(Pt()),At="data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cmask id='mask0_136_16' style='mask-type:alpha' maskUnits='userSpaceOnUse' x='0' y='0' width='32' height='32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23D9D9D9'/%3E%3C/mask%3E%3Cg mask='url(%23mask0_136_16)'%3E%3Crect width='32' height='32' fill='%23D9D9D9'/%3E%3Ccircle cx='16' cy='13' r='7' fill='%236D6D6D'/%3E%3Ccircle cx='16' cy='13' r='7' fill='%236D6D6D'/%3E%3Ccircle cx='16' cy='13' r='7' fill='%236D6D6D'/%3E%3Ccircle cx='16' cy='13' r='7' fill='%236D6D6D'/%3E%3Cpath d='M30 32.5C23.25 32.5 23.9558 32.5 16.5 32.5C9.04416 32.5 9.75 32.5 3 32.5C3 25.0442 9.04416 19 16.5 19C23.9558 19 30 25.0442 30 32.5Z' fill='%236D6D6D'/%3E%3Cpath d='M30 32.5C23.25 32.5 23.9558 32.5 16.5 32.5C9.04416 32.5 9.75 32.5 3 32.5C3 25.0442 9.04416 19 16.5 19C23.9558 19 30 25.0442 30 32.5Z' fill='%236D6D6D'/%3E%3Cpath d='M30 32.5C23.25 32.5 23.9558 32.5 16.5 32.5C9.04416 32.5 9.75 32.5 3 32.5C3 25.0442 9.04416 19 16.5 19C23.9558 19 30 25.0442 30 32.5Z' fill='%236D6D6D'/%3E%3Cpath d='M30 32.5C23.25 32.5 23.9558 32.5 16.5 32.5C9.04416 32.5 9.75 32.5 3 32.5C3 25.0442 9.04416 19 16.5 19C23.9558 19 30 25.0442 30 32.5Z' fill='%236D6D6D'/%3E%3C/g%3E%3C/svg%3E%0A",De=gt({actor_id:"",name:"",profile_photo_url:""});var O=JSON.parse(document.getElementById("datasette-comments-data").textContent);function Yt({target_type:e,target_database:t,target_table:n,target_row_ids:o,target_columns:i}){switch(e){case"database":return t;case"table":return`${t}/${n}`;case"columns":return`${t}/${i}`;case"row":return`${t}/${n}/${JSON.parse(o).join(",")}`;case"value":return`${t}/${n}/${i}/${JSON.parse(o).join(",")}`}}function te(e){let{author:t,contents:n,created_at:o}=e.data,i=Yt(e.data);return y("div",{style:{position:"relative",borderBottom:e.isLastRead?"1px solid red":null}},y("span",null,y("span",{style:"font-family: monospace;"},o),":"," ",y("span",{style:"font-weight:600;"},y("img",{src:t.profile_photo_url||At,width:"14px",style:"border-radius: 50%; margin-right: 2px;"}),t.name)," ","commented on"," ",y("b",{style:"font-weight: 600;"},y("a",{href:"/"+i},i)),": ",y("i",{style:"font-style: italic"},n)),e.isLastRead&&y("div",{style:"position: absolute; right: 0; bottom: 0; background: red; color: white; font-size: 12px; line-height: 12px; padding: 2px 6px"},"\u2303New"))}function ee(){let e=localStorage.getItem("datasette-comments-last-seen"),t=e===null?null:O.data.findIndex((n,o)=>o<O.data.length-1&&n.created_at>e&&O.data[o+1].created_at<=e);localStorage.setItem("datasette-comments-last-seen",O.data[0].created_at),vt(y("div",null,O.data.map((n,o)=>y(te,{data:n,isLastRead:o===t}))),document.querySelector("#root"))}document.addEventListener("DOMContentLoaded",ee);
